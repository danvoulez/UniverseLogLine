module topology_model
version: "1.0.0"

entity Region
  key: region_id (string)
  properties:
    - tenant_id: string
    - region_id: string   # ex: "pt-lisboa", "eu-west"
    - latency_budget_ms: int = 25

entity NodeRegion
  properties:
    - tenant_id: string
    - node_id: string
    - region_id: string
    - weight: int = 1

flow assign_region
  inputs: tenant_id, node_id, region_id
  steps:
    - upsert NodeRegion { tenant_id, node_id, region_id, weight: 1 }
