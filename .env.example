# LogLine Universe - Environment Configuration Template
# Copy this file to .env and fill in the actual values
# NEVER commit the .env file to version control!

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
POSTGRES_USER=logline
POSTGRES_PASSWORD=
POSTGRES_DB=logline
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# Full database URL (constructed from above values)
TIMELINE_DATABASE_URL=postgres://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# JWT Configuration for Gateway Authentication
# Generate a strong, random secret (minimum 32 characters)
# You can use: openssl rand -base64 32
GATEWAY_JWT_SECRET=

# JWT Issuer and Audience
GATEWAY_JWT_ISSUER=logline-id
GATEWAY_JWT_AUDIENCE=logline

# =============================================================================
# SERVICE COMMUNICATION
# =============================================================================

# Internal service URLs (using Docker DNS)
ENGINE_URL=http://logline-engine:8080
RULES_URL=http://logline-rules:8080
TIMELINE_URL=http://logline-timeline:8080
ID_URL=http://logline-id:8080
FEDERATION_URL=http://logline-federation:8080

# WebSocket URLs for real-time communication
TIMELINE_WS_URL=ws://logline-timeline:8080/ws/service

# =============================================================================
# GATEWAY CONFIGURATION
# =============================================================================

# Gateway bind address
GATEWAY_BIND=0.0.0.0:8070

# CORS configuration
GATEWAY_ALLOWED_ORIGINS=*

# Public paths that don't require authentication
GATEWAY_PUBLIC_PATHS=/healthz,/health,/docs

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Rust log level (error, warn, info, debug, trace)
RUST_LOG=info

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================

# Set to true for development mode
DEV_MODE=false

# Hot reload configuration
ENABLE_HOT_RELOAD=true

# =============================================================================
# FEDERATION CONFIGURATION (Optional)
# =============================================================================

# Federation node name
FEDERATION_NODE_NAME=

# Federation network configuration
FEDERATION_NETWORK_KEY=

# Trusted peers (comma-separated)
FEDERATION_TRUSTED_PEERS=

# =============================================================================
# REDIS CONFIGURATION (Optional)
# =============================================================================

REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=

# =============================================================================
# PRODUCTION OVERRIDES
# =============================================================================

# Override service ports for production deployment
# GATEWAY_PORT=8070
# ENGINE_PORT=8090
# RULES_PORT=8081
# TIMELINE_PORT=8082
# ID_PORT=8083
# FEDERATION_PORT=8084
